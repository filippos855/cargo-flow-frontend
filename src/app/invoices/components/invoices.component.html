<h2>Facturi</h2>

<div class="toolbar">
  <button (click)="addInvoice()">+ Adaugă factură</button>
</div>

<table>
  <thead>
    <tr>
      <th>Număr</th>
      <th>Tip</th>
      <th>Status</th>
      <th>Comandă / Cursă facturată</th>
      <th>Firmă</th>
      <th>Valoare</th>
      <th>Monedă</th>
      <th>Dată emitere</th>
      <th>Scadență</th>
    </tr>
  </thead>
  <tbody>
    @for (invoice of invoices; track invoice) {
      <tr>
        <td>
          <a [routerLink]="['/invoices', invoice.id]">{{ invoice.number }}</a>
        </td>
        <td>{{ invoice.invoiceType.name }}</td>
        <td>{{ invoice.status.name }}</td>
        <td>
          @if (invoice.order) {
            <a [routerLink]="['/orders', invoice.order.id]">{{ invoice.order.number }}</a>
          } @else if (invoice.trip) {
            <a [routerLink]="['/trips', invoice.trip.id]">{{ invoice.trip.number }}</a>
          } @else {
            <span>—</span>
          }
        </td>
        <td>
          <a [routerLink]="['/resources/companies', invoice.company.id]">
            {{ invoice.company.name }}
          </a>
        </td>
        <td>{{ invoice.amount | number:'1.2-2' }}</td>
        <td>{{ invoice.currency }}</td>
        <td>{{ invoice.issueDate | date: 'dd/MM/yyyy' }}</td>
        <td>{{ invoice.dueDate | date: 'dd/MM/yyyy' }}</td>
      </tr>
    }
  </tbody>
</table>
